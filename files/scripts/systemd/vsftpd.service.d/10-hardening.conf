[Service]
# Keep OS read-only to the daemon (allow writes only to the dropbox)
ProtectSystem=strict
ReadWritePaths=/home/Public/Uploads

# Make /home visible but read-only by default
ProtectHome=read-only

# Belt-and-suspenders: explicitly block your shared trees
InaccessiblePaths=/home/Shared /home/Node /home/Git /home/Trash /home/Storage /home/Secrets

NoNewPrivileges=yes
PrivateTmp=yes

ProtectKernelTunables=yes
ProtectKernelModules=yes
ProtectControlGroups=yes
ProtectHostname=yes
ProtectClock=yes
ProtectProc=invisible
ProcSubset=pid
PrivateDevices=yes

LockPersonality=yes
MemoryDenyWriteExecute=yes
RestrictSUIDSGID=yes
RestrictNamespaces=yes
RestrictRealtime=yes
RestrictAddressFamilies=AF_UNIX AF_INET AF_INET6

# Bind port 21 then drop privileges
CapabilityBoundingSet=CAP_NET_BIND_SERVICE
AmbientCapabilities=CAP_NET_BIND_SERVICE
